<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Imputation of a Linear Model by Bayesian Bootstrap — mice.impute.rlm • miceadds</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Imputation of a Linear Model by Bayesian Bootstrap — mice.impute.rlm" />
<meta property="og:description" content="These functions impute from linear models using the functions
stats::lm, MASS::rlm
or MASS::lqs. The method mice.impute.lm_fun
allows the definition of a general linear regression fitting function for
which the methods predict and residuals are defined.
Parameters of the model are estimated
by Bayesian bootstrap. Predicted values are computed and residuals are randomly
drawn from the empirical distribution of residuals of observed data." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">miceadds</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Versions">3.8-vv</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/alexanderrobitzsch/miceadds">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Imputation of a Linear Model by Bayesian Bootstrap</h1>
    
    <div class="hidden name"><code>mice.impute.rlm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions impute from linear models using the functions
<code><a href='https://rdrr.io/r/stats/lm.html'>stats::lm</a></code>, <code><a href='https://rdrr.io/pkg/MASS/man/rlm.html'>MASS::rlm</a></code>
or <code><a href='https://rdrr.io/pkg/MASS/man/lqs.html'>MASS::lqs</a></code>. The method <code>mice.impute.lm_fun</code>
allows the definition of a general linear regression fitting function for
which the methods <code>predict</code> and <code>residuals</code> are defined.</p>
<p>Parameters of the model are estimated
by Bayesian bootstrap. Predicted values are computed and residuals are randomly
drawn from the empirical distribution of residuals of observed data.</p>
    </div>

    <pre class="usage"><span class='fu'>mice.impute.lm</span>(<span class='no'>y</span>, <span class='no'>ry</span>, <span class='no'>x</span>, <span class='kw'>wy</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>lm_args</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>trafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>antitrafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>mice.impute.rlm</span>(<span class='no'>y</span>, <span class='no'>ry</span>, <span class='no'>x</span>, <span class='kw'>wy</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>lm_args</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>trafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>antitrafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>mice.impute.lqs</span>(<span class='no'>y</span>, <span class='no'>ry</span>, <span class='no'>x</span>, <span class='kw'>wy</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>lm_args</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>trafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>antitrafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>mice.impute.lm_fun</span>(<span class='no'>y</span>, <span class='no'>ry</span>, <span class='no'>x</span>, <span class='kw'>wy</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>lm_args</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>lm_fun</span><span class='kw'>=</span><span class='st'>"lm"</span>, <span class='kw'>trafo</span><span class='kw'>=</span><span class='kw'>NULL</span>,
               <span class='kw'>antitrafo</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>y</th>
      <td><p>Incomplete data vector of length <code>n</code></p></td>
    </tr>
    <tr>
      <th>ry</th>
      <td><p>Vector of missing data pattern (<code>FALSE</code> -- missing,
<code>TRUE</code> -- observed)</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Matrix (<code>n</code> x <code>p</code>) of complete covariates.</p></td>
    </tr>
    <tr>
      <th>wy</th>
      <td><p>Vector of logicals indicating which entries should be imputed</p></td>
    </tr>
    <tr>
      <th>lm_args</th>
      <td><p>List of arguments for <code><a href='https://rdrr.io/r/stats/lm.html'>stats::lm</a></code>,
<code><a href='https://rdrr.io/pkg/MASS/man/rlm.html'>MASS::rlm</a></code>, <code><a href='https://rdrr.io/pkg/MASS/man/lqs.html'>MASS::lqs</a></code> or
a user-defined function.</p></td>
    </tr>
    <tr>
      <th>lm_fun</th>
      <td><p>Linear regression fitting function, e.g. <code><a href='https://rdrr.io/r/stats/lm.html'>stats::lm</a></code> for which
S3 methods <code>predict</code> and <code>residuals</code> are defined.</p></td>
    </tr>
    <tr>
      <th>trafo</th>
      <td><p>Optional function for transforming the outcome values</p></td>
    </tr>
    <tr>
      <th>antitrafo</th>
      <td><p>Optional function which is the inverse function of <code>trafo</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments to be passed</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector of length <code>nmis=sum(!ry)</code> with imputed values.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'>#############################################################################</span>
<span class='co'># EXAMPLE 1: Some toy example illustrating the methods</span>
<span class='co'>#############################################################################</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>MASS</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>mice</span>)

<span class='co'>#-- simulate data</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>98</span>)
<span class='no'>N</span> <span class='kw'>&lt;-</span> <span class='fl'>1000</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>N</span>)
<span class='no'>z</span> <span class='kw'>&lt;-</span> <span class='fl'>0.5</span>*<span class='no'>x</span> + <span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>N</span>, <span class='kw'>sd</span><span class='kw'>=</span><span class='fl'>.7</span>)
<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>N</span>, <span class='kw'>mean</span><span class='kw'>=</span><span class='fl'>.3</span>*<span class='no'>x</span> - <span class='fl'>.2</span>*<span class='no'>z</span>, <span class='kw'>sd</span><span class='kw'>=</span><span class='fl'>1</span> )
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='no'>x</span>,<span class='no'>z</span>,<span class='no'>y</span>)
<span class='no'>dat</span>[ <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>1</span>,<span class='no'>N</span>,<span class='fl'>3</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"x"</span>,<span class='st'>"y"</span>) ] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>
<span class='no'>dat</span>[ <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>1</span>,<span class='no'>N</span>,<span class='fl'>4</span>), <span class='st'>"z"</span> ] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>

<span class='co'>#-- define imputation methods</span>
<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mice</span><span class='kw ns'>::</span><span class='fu'><a href='http://stefvanbuuren.github.io/mice/reference/mice.html'>mice</a></span>(<span class='no'>dat</span>, <span class='kw'>maxit</span><span class='kw'>=</span><span class='fl'>0</span>)
<span class='no'>method</span> <span class='kw'>&lt;-</span> <span class='no'>imp</span>$<span class='no'>method</span>
<span class='no'>method</span>[<span class='st'>"x"</span>] <span class='kw'>&lt;-</span> <span class='st'>"rlm"</span>
<span class='no'>method</span>[<span class='st'>"z"</span>] <span class='kw'>&lt;-</span> <span class='st'>"lm"</span>
<span class='no'>method</span>[<span class='st'>"y"</span>] <span class='kw'>&lt;-</span> <span class='st'>"lqs"</span>

<span class='co'>#-- impute data</span>
<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mice</span><span class='kw ns'>::</span><span class='fu'><a href='http://stefvanbuuren.github.io/mice/reference/mice.html'>mice</a></span>(<span class='no'>dat</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='no'>method</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>imp</span>)

<span class='co'>#--- example using transformations</span>
<span class='no'>dat1</span>$<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(<span class='no'>dat1</span>$<span class='no'>x</span>)
<span class='no'>dat1</span>$<span class='no'>z</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Logistic.html'>plogis</a></span>(<span class='no'>dat1</span>$<span class='no'>z</span>)

<span class='no'>trafo</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>log</span>, <span class='kw'>z</span><span class='kw'>=</span><span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/r/stats/Logistic.html'>qlogis</a></span>)
<span class='no'>antitrafo</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>z</span><span class='kw'>=</span><span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/r/stats/Logistic.html'>plogis</a></span>)

<span class='co'>#- impute with transformations</span>
<span class='no'>imp2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mice</span><span class='kw ns'>::</span><span class='fu'><a href='http://stefvanbuuren.github.io/mice/reference/mice.html'>mice</a></span>(<span class='no'>dat1</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='no'>method</span>, <span class='kw'>m</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>maxit</span><span class='kw'>=</span><span class='fl'>3</span>, <span class='kw'>trafo</span><span class='kw'>=</span><span class='no'>trafo</span>, <span class='kw'>antitrafo</span><span class='kw'>=</span><span class='no'>antitrafo</span>)
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>imp2</span>)
}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


